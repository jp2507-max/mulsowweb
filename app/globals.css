@import "tailwindcss";

@theme {
  /* Brand colors (modern sports palette) */
  --color-brand-primary: #C1121F;
  --color-brand-secondary: #8B0000;
  --color-brand-accent: #FF4444;
  --color-brand-light: #FFE5E5;

  /* Ink / text colors */
  --color-ink-primary: #0F172A;
  --color-ink-secondary: #475569;
  --color-ink-tertiary: #94A3B8;

  /* Neutral scale (subset) */
  --color-neutral-50: #F8FAFC;
  --color-neutral-100: #F1F5F9;
  --color-neutral-200: #E2E8F0;
  --color-neutral-800: #1E293B;
  --color-neutral-900: #0F172A;

  /* Success/Warning */
  --color-success: #10B981;
  --color-warning: #F59E0B;

  /* Breakpoints */
  --breakpoint-sm: 40rem;
  /* 640px */
  --breakpoint-md: 48rem;
  /* 768px */
  --breakpoint-lg: 64rem;
  /* 1024px */
  --breakpoint-xl: 80rem;
  /* 1280px */
}

/* Global typography wiring to next/font variables set in app/layout.tsx */
:root {
  --font-body: var(--font-inter, ui-sans-serif, system-ui, sans-serif);
  --font-heading: var(--font-oswald, ui-sans-serif, system-ui, sans-serif);
}

/* Critical CSS for above-the-fold content */
body {
  font-family: var(--font-body);
  color: var(--color-ink-primary);
  background-color: var(--color-neutral-50);
  /* Prevent layout shift during font loading */
  font-display: swap;
  /* Optimize text rendering */
  text-rendering: optimizeSpeed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
  /* Prevent layout shift for headings */
  font-display: swap;
}

/* Critical styles for LCP optimization */
.hero-section {
  /* Ensure hero is rendered immediately */
  will-change: auto;
  /* Optimize compositing */
  transform: translateZ(0);
}

/* Core utilities for buttons and cards */
@layer utilities {

  /* Button base and sizes */
  .btn {
    @apply inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  .btn-sm {
    @apply px-4 py-2 text-sm;
  }

  .btn-md {
    @apply px-5 py-3 text-base;
  }

  .btn-lg {
    @apply px-6 py-4 text-lg;
  }

  /* Button variants */
  .btn-primary {
    @apply bg-brand-primary text-white hover:bg-brand-secondary active:scale-95 focus-visible:ring-brand-primary shadow-lg hover:shadow-xl;
  }

  .btn-outline {
    @apply border-2 border-brand-primary text-brand-primary bg-transparent hover:bg-brand-primary hover:text-white active:scale-95;
  }

  .btn-ghost {
    @apply text-ink-primary hover:bg-neutral-100;
  }

  /* Card */
  .card {
    @apply bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-neutral-200;
  }

  .card-hover {
    @apply hover:shadow-xl hover:scale-[1.02] hover:border-brand-light transition-all duration-300;
  }

  /* Page container */
  .container-site {
    @apply mx-auto max-w-7xl px-4 md:px-6 lg:px-8;
  }

  /* Header styles */
  .header {
    @apply border-b border-neutral-200 bg-white/80 backdrop-blur-sm;
  }

  .header-container {
    @apply mx-auto max-w-7xl px-4 md:px-6;
  }

  .header-content {
    @apply flex items-center justify-between gap-6 py-4;
  }

  .header-logo {
    @apply inline-flex items-center gap-3 rounded-md p-1 transition-colors hover:bg-neutral-50;
  }

  .header-logo-image {
    @apply flex-shrink-0;
    width: clamp(2rem, 5vw, 2.5rem);
    height: clamp(2rem, 5vw, 2.5rem);
  }

  .header-logo-text {
    @apply font-bold text-ink-primary;
    font-size: clamp(1.25rem, 4vw, 1.5rem);
    font-family: var(--font-heading);
  }

  .header-nav {
    @apply flex flex-wrap items-center list-none m-0 p-0;
    gap: clamp(0.75rem, 2vw, 1.25rem);
  }

  .header-nav-link {
    @apply px-3 py-2 rounded-md text-ink-secondary transition-colors font-medium;
    font-size: clamp(0.875rem, 2vw, 1rem);
  }

  .header-nav-link:hover {
    @apply text-ink-primary;
  }

  .header-nav-link:focus-visible {
    @apply outline-2 outline-brand-primary outline-offset-2;
  }

  .header-nav-link-active {
    @apply text-brand-primary border-b-2 border-brand-primary font-semibold;
  }

  /* Hero Section - Performance Optimized for LCP */
  .hero-section {
    @apply relative overflow-hidden;
    /* Optimized padding - not forcing full viewport for better LCP positioning */
    padding: clamp(3rem, 8vw, 6rem) 0;
    /* Reasonable min-height that doesn't push content below fold - optimized for LCP */
    min-height: clamp(400px, 60vh, 600px);
    /* Ensure content is above the fold on most devices */
    max-height: 80vh;
  }

  .hero-bg {
    @apply absolute inset-0 -z-10;
  }

  /* Subtle CSS-only gradients - 2024 organic trend */
  .hero-gradient-1 {
    @apply absolute top-0 left-0 w-full h-full;
    background: linear-gradient(135deg, var(--color-brand-light) 0%, transparent 40%);
    opacity: 0.3;
  }

  .hero-gradient-2 {
    @apply absolute bottom-0 right-0 w-4/5 h-4/5;
    background: linear-gradient(45deg, var(--color-neutral-100) 0%, transparent 70%);
    opacity: 0.5;
  }

  /* Modern organic shapes - performance-friendly CSS */
  .hero-shape-1 {
    @apply absolute -top-32 -right-32;
    width: clamp(300px, 40vw, 500px);
    height: clamp(300px, 40vw, 500px);
    background: linear-gradient(135deg, var(--color-brand-accent), var(--color-brand-primary));
    opacity: 0.05;
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    transform: rotate(15deg);
  }

  .hero-shape-2 {
    @apply absolute -bottom-20 -left-20;
    width: clamp(200px, 25vw, 320px);
    height: clamp(200px, 25vw, 320px);
    background: linear-gradient(45deg, var(--color-brand-light), var(--color-neutral-200));
    opacity: 0.08;
    border-radius: 40% 60% 70% 30% / 40% 70% 30% 60%;
  }

  .hero-content {
    @apply mx-auto max-w-7xl px-4 md:px-6 lg:px-8 relative z-10 text-center flex flex-col justify-center;
    min-height: clamp(350px, 40vh, 450px);
    /* Prevent layout shift by reserving space */
    contain: layout style;
  }

  .hero-text {
    @apply mb-10 md:mb-14 lg:mb-16;
  }

  /* Bold, athletic typography - 2024 sports design trend */
  .hero-title {
    @apply font-black leading-none mb-6;
    /* Responsive typography using clamp for better performance and CLS prevention */
    font-size: clamp(2.5rem, 7vw, 5rem);
    letter-spacing: -0.03em;
    font-family: var(--font-heading);
    /* Prevent layout shift during font loading */
    font-display: swap;
    /* Reserve space to prevent CLS */
    min-height: clamp(5rem, 14vw, 10rem);
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .hero-title-main {
    @apply block mb-2;
    /* Modern gradient text effect - 2024 trend */
    background: linear-gradient(135deg, var(--color-brand-primary) 0%, var(--color-brand-accent) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    /* Subtle text shadow for depth */
    filter: drop-shadow(0 2px 4px rgba(193, 18, 31, 0.1));
  }

  .hero-title-subtitle {
    @apply block text-ink-primary font-semibold;
    font-size: clamp(1.25rem, 3.5vw, 2rem);
    font-family: var(--font-heading);
    letter-spacing: -0.01em;
    /* Prevent layout shift */
    min-height: clamp(2rem, 7vw, 4rem);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-subtitle {
    @apply text-ink-secondary max-w-4xl mx-auto leading-relaxed;
    font-size: clamp(1.125rem, 2.5vw, 1.5rem);
    font-weight: 400;
    font-family: var(--font-body);
  }

  /* Three CTA grid - modern sports organization pattern */
  .hero-ctas {
    @apply grid gap-4 md:gap-6 max-w-5xl mx-auto;
    /* Responsive grid: stacked on mobile, 3 columns on desktop */
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  @media (min-width: 768px) {
    .hero-ctas {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .hero-cta {
    @apply w-full transform transition-all duration-200;
  }

  .hero-cta-primary {
    @apply hover:scale-105 hover:shadow-2xl;
  }

  .hero-cta-secondary {
    @apply hover:scale-105 hover:shadow-lg;
  }

  .hero-cta-tertiary {
    @apply hover:scale-105 hover:shadow-md;
  }

  .hero-cta-icon {
    @apply w-5 h-5 mr-3 flex-shrink-0;
  }

  /* Comprehensive reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    /* Disable all transforms and animations */
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    /* Specific component overrides */
    .hero-cta {
      @apply hover:scale-100;
    }

    .card-hover {
      @apply hover:scale-100;
    }

    .btn-primary {
      @apply active:scale-100;
    }

    .btn-outline {
      @apply active:scale-100;
    }

    /* Disable fade animations */
    .animate-fadeInUp {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }

    /* Disable page transitions */
    body.fade-init,
    body.fade-in {
      opacity: 1 !important;
      transition: none !important;
    }

    /* Disable hover effects that use transforms */
    .hover-lift,
    .hover-scale {
      transform: none !important;
    }
  }

  /* Enhanced focus states for accessibility - comprehensive implementation */
  .hero-cta:focus-visible {
    @apply ring-4 ring-brand-primary ring-offset-4;
  }

  /* Global focus styles for all interactive elements */
  a:focus-visible,
  button:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible,
  [tabindex]:focus-visible,
  [role="button"]:focus-visible,
  [role="link"]:focus-visible {
    outline: 2px solid var(--color-brand-primary);
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Ensure focus is visible even with custom styles */
  .btn:focus-visible {
    outline: 2px solid var(--color-brand-primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(193, 18, 31, 0.2);
  }

  .card:focus-visible {
    outline: 2px solid var(--color-brand-primary);
    outline-offset: 2px;
  }

  /* Skip link for keyboard navigation */
  .skip-link {
    @apply absolute -top-10 left-4 z-50 bg-brand-primary text-white px-4 py-2 rounded-md font-medium;
    @apply focus:top-4 transition-all duration-200;
  }

  /* Screen reader only text */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .btn-primary {
      border: 2px solid currentColor;
    }
    
    .btn-outline {
      border-width: 3px;
    }
    
    .card {
      border-width: 2px;
    }
  }

  /* Smooth animations for sponsor teaser */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeInUp {
    animation: fadeInUp 0.6s ease-out;
  }

  /* Line clamp utility for sponsor descriptions */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Page fade transitions (CSP-safe, no inline styles) */
  @media (prefers-reduced-motion: no-preference) {
    body.fade-init {
      opacity: 0;
    }

    body.fade-in {
      opacity: 1;
      transition: opacity 180ms cubic-bezier(0.2, 0, 0, 1);
    }
  }

  @media (prefers-reduced-motion: reduce) {

    body.fade-init,
    body.fade-in {
      opacity: 1 !important;
      transition: none !important;
    }
  }

  /* Performance optimizations for interactions (INP) */
  a,
  button,
  [role="button"] {
    /* Optimize for fast interactions */
    touch-action: manipulation;
    /* Prevent 300ms tap delay on mobile */
    -webkit-tap-highlight-color: transparent;
  }

  /* Optimize hover states for better INP */
  @media (hover: hover) {

    a:hover,
    button:hover {
      transition: all 0.15s ease-out;
    }
  }

  /* Focus optimization for keyboard navigation */
  :focus-visible {
    outline: 2px solid var(--color-brand-primary);
    outline-offset: 2px;
    transition: outline 0.1s ease-out;
  }

  /* Optimize button interactions */
  .btn:active {
    transform: scale(0.98);
    transition: transform 0.1s ease-out;
  }

  /* Prevent layout thrashing during animations */
  .hero-cta,
  .card-hover {
    will-change: transform;
  }

  @media (prefers-reduced-motion: reduce) {

    .hero-cta,
    .card-hover {
      will-change: auto;
    }
  }

  /* Image performance optimizations */
  img {
    /* Prevent layout shift */
    height: auto;
    max-width: 100%;
    
    /* Optimize rendering */
    image-rendering: auto;
    
    /* Prevent dragging for better UX */
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
  }

  /* Lazy loading placeholder styles */
  img[loading="lazy"] {
    /* Smooth transition when image loads */
    transition: opacity 0.3s ease-in-out;
  }

  /* Optimize image containers */
  .image-container {
    /* Prevent layout shift */
    position: relative;
    overflow: hidden;
  }

  .image-container::before {
    /* Aspect ratio placeholder */
    content: '';
    display: block;
    width: 100%;
    padding-bottom: var(--aspect-ratio, 56.25%); /* Default 16:9 */
  }

  .image-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}